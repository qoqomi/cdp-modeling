import{k as B,d as X,l as ve,r as v,w as z,o as ye,c as p,a as s,m as r,p as e,f as S,g as y,i as D,t as m,ai as E,F as R,h as A,a0 as he,a1 as fe,q as xe,j as H,a3 as ge,b as u,a9 as V,_ as be,u as _e}from"./index-C4UDD_tn.js";import{a as J}from"./client-BJ5cnuOJ.js";import{F as Se}from"./file-search-CyA5plmm.js";import{U as De}from"./upload-Dl7F3ukD.js";import{F as O}from"./file-text-BTffbXUU.js";import{C as ke}from"./chevron-down-2k307sX2.js";/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=B("FolderOpenIcon",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=B("HistoryIcon",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=B("PlusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Re={createAnalysis:async g=>{const h=new FormData;return h.append("file",g.file),h.append("year",g.year.toString()),h.append("type",g.type),h.append("name",g.name),(await J.post("/proof/analysis",h,{headers:{"Content-Type":"multipart/form-data"}})).data},getAnalysis:async g=>(await J.get(`/proof/analysis/${g}`)).data,getAnalyses:async()=>(await J.get("/proof/analyses")).data},Ae={class:"flex gap-4 h-full w-full p-1",style:{"min-height":"0","box-shadow":"none"}},Pe={class:"flex flex-col gap-4",style:{width:"450px","min-width":"450px","max-width":"450px","flex-shrink":"0","min-height":"0"}},$e={class:"flex items-center gap-3 mb-3"},Te={class:"flex items-center gap-2 flex-1 min-w-0"},ze={class:"flex-1 min-w-0"},Je={key:2,class:"mb-3"},Oe={class:"flex gap-2 mb-2"},Fe=["onClick"],Be={class:"flex gap-2"},je=["onClick"],Ue={key:3,class:"mb-3"},Me=["placeholder"],Ye=["disabled"],Le={key:1,class:"animate-spin"},Ne={class:"flex items-center gap-3 mb-3 flex-shrink-0"},Ee={class:"flex-1 overflow-y-auto space-y-2 custom-scrollbar",style:{"min-height":"0",margin:"-4px",padding:"4px"}},He=["onClick"],Ve={class:"flex items-center gap-2"},Ke={key:0,class:"px-3 pb-3 space-y-1.5"},Xe=["onClick"],Qe={class:"flex items-center justify-between"},Ge={class:"flex items-center justify-between mb-4"},qe={class:"flex items-center gap-3"},We={class:"flex-1 overflow-y-auto space-y-2 custom-scrollbar",style:{margin:"-4px",padding:"4px"}},Ze={class:"flex-1 min-w-0"},et={class:"flex items-center gap-2 mt-1"},tt=["onClick"],at={key:0,class:"flex flex-col items-center justify-center py-12 text-center"},K="cdp_djsi_report_",F="cdp_djsi_reports_list",ot=X({__name:"ProofUploadPanel",emits:["filesUploaded","startAnalysis"],setup(g,{emit:h}){const t=ve(),I=h,c=v(null),b=v(null),n=v(null),d=v(null),k=v(""),f=v(null),x=v(!1);z([n,d,c],([a,o,l])=>{console.log("State updated:",{year:a,type:o,hasDoc:!!l})},{immediate:!0});const C=v([]),$=v({}),j=["2025","2024","2023","2022"],Q=[{label:"CDP",value:"CDP"},{label:"DJSI",value:"DJSI"}],U=v(null),M=v(null),_=v([]);_.value=[{name:"2023 지속가능경영보고서.pdf",category:"ESG 보고서",date:"2023-12-31"},{name:"CDP 응답 가이드라인.docx",category:"가이드라인",date:"2024-01-15"},{name:"온실가스 배출량 인벤토리.xlsx",category:"데이터",date:"2024-02-20"}];const P=()=>{const a=localStorage.getItem(F);if(a)try{return JSON.parse(a)}catch{return[]}return[]},G=a=>{const o=P(),l=o.findIndex(i=>i.id===a.id);l>=0?o[l]=a:o.push(a),o.sort((i,w)=>new Date(w.savedAt).getTime()-new Date(i.savedAt).getTime()),localStorage.setItem(F,JSON.stringify(o))},Y=(a,o,l,i)=>{const w=`${a}_${o}_${Date.now()}`,pe=i||`${a} ${o} 평가대응`,N={id:w,name:pe,year:a,reportType:o,document:l,savedAt:new Date().toISOString()};G(N);const me=`${K}${w}`;return localStorage.setItem(me,JSON.stringify(N)),w},L=a=>P().filter(o=>o.year===a).length,T=a=>P().filter(o=>o.year===a),q=a=>{try{return new Date(a).toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"})}catch{return a}},W=a=>{const o=C.value.indexOf(a);o>-1?C.value.splice(o,1):C.value.push(a)},Z=a=>{console.log("handleYearSelect called with year:",a),n.value=a,console.log("Selected year is now:",n.value),V(()=>{console.log("After nextTick, selectedYear:",n.value)})},ee=a=>{console.log("handleReportTypeSelect called with type:",a),d.value=a,console.log("Selected report type is now:",d.value),V(()=>{console.log("After nextTick, selectedReportType:",d.value)})},te=a=>{console.log("selectReportFromHistory called",a),f.value=a,c.value={...a.document,url:a.document.url==="#"?"":a.document.url},n.value=a.year,d.value=a.reportType,k.value=a.name,console.log("Report selected, currentYearDocument:",c.value),console.log("Selected year:",n.value,"Selected type:",d.value),I("filesUploaded",{mainDocument:c.value,referenceDocs:_.value})},ae=()=>{U.value?.click()},oe=()=>{M.value?.click()},le=a=>{const o=a.target;if(o.files&&o.files[0]){const l=o.files[0];b.value=l,c.value={name:l.name,url:URL.createObjectURL(l),size:l.size},f.value=null}o&&(o.value="")},se=a=>{const o=a.target;o.files&&Array.from(o.files).forEach(l=>{_.value.push({name:l.name,category:"기타",date:new Date().toISOString().split("T")[0]})})},re=a=>{if(a.preventDefault(),a.dataTransfer?.files&&a.dataTransfer.files[0]){const o=a.dataTransfer.files[0];b.value=o,c.value={name:o.name,url:URL.createObjectURL(o),size:o.size},f.value=null}},ne=()=>{c.value?.url&&URL.revokeObjectURL(c.value.url),c.value=null,b.value=null},ie=a=>{a>=0&&a<_.value.length&&_.value.splice(a,1)},ce=async a=>{if(a&&(a.preventDefault(),a.stopPropagation()),console.log("handleStartAnalysis called",{selectedYear:n.value,selectedReportType:d.value,currentYearDocument:c.value,selectedReportFromHistory:f.value}),!n.value||!d.value||!c.value){console.error("Button is disabled, missing required values:",{selectedYear:n.value,selectedReportType:d.value,currentYearDocument:c.value});return}let o;if(f.value)o=f.value.id;else if(b.value)try{x.value=!0;const l=k.value||`${n.value} ${d.value} 평가대응`,i=await Re.createAnalysis({file:b.value,year:n.value,type:d.value,name:l});o=i.analysisId,console.log("API 분석 생성 성공:",i),Y(n.value,d.value,c.value,l)}catch(l){console.error("API 호출 실패, localStorage fallback:",l);const i=k.value||`${n.value} ${d.value} 평가대응`;o=Y(n.value,d.value,c.value,i)}finally{x.value=!1}else{console.error("No file selected");return}console.log("Emitting events with reportId:",o),I("filesUploaded",{mainDocument:c.value,referenceDocs:_.value}),I("startAnalysis",n.value,d.value,o)},de=()=>{if(P().length>0)return;const o=[{id:"2025_CDP_1",name:"2025 CDP 평가대응 1차",year:"2025",reportType:"CDP",document:{name:"2025_CDP_Response_Draft.pdf",url:"#",size:2456789},savedAt:new Date("2025-01-15").toISOString()},{id:"2025_DJSI_1",name:"2025 DJSI 평가대응",year:"2025",reportType:"DJSI",document:{name:"2025_DJSI_Questionnaire.pdf",url:"#",size:1890456},savedAt:new Date("2025-02-01").toISOString()},{id:"2024_CDP_1",name:"2024 CDP 평가대응 1차",year:"2024",reportType:"CDP",document:{name:"2024_CDP_Climate_Change_Response.pdf",url:"#",size:3124567},savedAt:new Date("2024-07-15").toISOString()},{id:"2024_CDP_2",name:"2024 CDP 평가대응 2차",year:"2024",reportType:"CDP",document:{name:"2024_CDP_Climate_Change_Response_Revised.pdf",url:"#",size:3289123},savedAt:new Date("2024-08-20").toISOString()},{id:"2024_DJSI_1",name:"2024 DJSI 평가대응",year:"2024",reportType:"DJSI",document:{name:"2024_DJSI_Corporate_Sustainability_Assessment.pdf",url:"#",size:2567890},savedAt:new Date("2024-09-10").toISOString()},{id:"2023_CDP_1",name:"2023 CDP 평가대응",year:"2023",reportType:"CDP",document:{name:"2023_CDP_Disclosure_Response.pdf",url:"#",size:2876543},savedAt:new Date("2023-06-30").toISOString()},{id:"2023_DJSI_1",name:"2023 DJSI 평가대응 1차",year:"2023",reportType:"DJSI",document:{name:"2023_DJSI_Questionnaire_Response.pdf",url:"#",size:2234567},savedAt:new Date("2023-08-15").toISOString()},{id:"2023_DJSI_2",name:"2023 DJSI 평가대응 2차",year:"2023",reportType:"DJSI",document:{name:"2023_DJSI_Questionnaire_Response_Final.pdf",url:"#",size:2345678},savedAt:new Date("2023-09-25").toISOString()},{id:"2022_CDP_1",name:"2022 CDP 평가대응",year:"2022",reportType:"CDP",document:{name:"2022_CDP_Climate_Change_Questionnaire.pdf",url:"#",size:2456789},savedAt:new Date("2022-07-20").toISOString()},{id:"2022_DJSI_1",name:"2022 DJSI 평가대응",year:"2022",reportType:"DJSI",document:{name:"2022_DJSI_Sustainability_Assessment.pdf",url:"#",size:1987654},savedAt:new Date("2022-08-30").toISOString()}];localStorage.setItem(F,JSON.stringify(o)),o.forEach(l=>{const i=`${K}${l.id}`;localStorage.setItem(i,JSON.stringify(l))})};ye(()=>{de();const a=localStorage.getItem("cdp_djsi_selected_reports");if(a)try{$.value=JSON.parse(a)}catch(o){console.error("Failed to load saved selections",o)}}),z($,()=>{localStorage.setItem("cdp_djsi_selected_reports",JSON.stringify($.value))},{deep:!0}),z([n,d],()=>{if(n.value&&d.value&&!f.value&&!k.value){const a=T(n.value).filter(l=>l.reportType===d.value).length,o=a>0?` ${a+1}차`:" 1차";k.value=`${n.value} ${d.value} 평가대응${o}`}});const ue=a=>{if(a===0)return"0 Bytes";const o=1024,l=["Bytes","KB","MB","GB"],i=Math.floor(Math.log(a)/Math.log(o));return Math.round(a/Math.pow(o,i)*100)/100+" "+l[i]};return(a,o)=>(u(),p("div",Ae,[s("div",Pe,[s("div",{class:"flex flex-col panel-3d",style:r([{flex:"0 0 auto"},{backgroundColor:e(t).isDark?"rgba(17, 24, 39, 0.95)":e(t).theme.whiteAlpha[95],border:`1px solid ${e(t).theme.cardBorder}`,borderRadius:"1rem",boxShadow:e(t).theme.elevation.card,padding:"1rem"}])},[s("div",$e,[s("div",{class:"w-8 h-8 rounded-lg flex items-center justify-center",style:r({backgroundColor:e(t).theme.primaryAlpha[15],boxShadow:e(t).theme.elevation.icon})},[y(e(Se),{size:16,style:r({color:e(t).theme.primary})},null,8,["style"])],4),s("h3",{class:"text-xs font-bold tracking-wide",style:r({color:e(t).theme.textPrimary})}," 분석 대상 보고서 ",4)]),c.value?(u(),p("div",{key:1,class:"p-3 flex items-center justify-between mb-3 doc-card",style:r({backgroundColor:e(t).theme.primaryAlpha[10],border:`1px solid ${e(t).theme.primary}`,borderRadius:"0.75rem",boxShadow:e(t).theme.elevation.input})},[s("div",Te,[y(e(O),{size:18,style:r({color:e(t).theme.primary})},null,8,["style"]),s("div",ze,[s("p",{class:"text-xs font-semibold truncate",style:r({color:e(t).theme.textPrimary})},m(c.value.name),5),s("p",{class:"text-xs mt-0.5",style:r({color:e(t).theme.textSecondary})},m(ue(c.value.size)),5)])]),s("button",{onClick:ne,class:"p-1 rounded-lg hover:bg-red-500/20 transition-colors"},[y(e(E),{size:14,style:{color:"#ef4444"}})])],4)):(u(),p("div",{key:0,onClick:ae,onDragover:o[0]||(o[0]=D(()=>{},["prevent"])),onDrop:D(re,["prevent"]),class:"flex flex-col items-center justify-center cursor-pointer transition-all mb-3 upload-card",style:r({border:`2px dashed ${e(t).isDark?"rgba(16, 185, 129, 0.3)":"rgba(16, 185, 129, 0.25)"}`,borderRadius:"0.75rem",backgroundColor:e(t).theme.primaryAlpha[5],boxShadow:"inset 0 2px 4px rgba(0, 0, 0, 0.03)",minHeight:"100px",padding:"1rem 0.75rem"})},[y(e(De),{size:28,style:r({color:e(t).theme.primary})},null,8,["style"]),s("p",{class:"mt-1.5 text-xs font-semibold",style:r({color:e(t).theme.textPrimary})}," 파일을 드래그하거나 클릭하여 업로드 ",4),s("p",{class:"mt-0.5 text-xs",style:r({color:e(t).theme.textSecondary})}," PDF, DOCX, XLSX 지원 ",4)],36)),c.value?(u(),p("div",Je,[s("label",{class:"text-xs font-semibold mb-1.5 block",style:r({color:e(t).theme.textSecondary})}," 연도 선택 ",4),s("div",Oe,[(u(),p(R,null,A(j,l=>s("button",{key:l,onClick:i=>Z(l),onMousedown:o[1]||(o[1]=D(()=>{},["stop"])),type:"button",class:"flex-1 px-2.5 py-2 text-xs font-semibold cursor-pointer year-btn",style:r({backgroundColor:n.value===l?e(t).theme.primary:e(t).isDark?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.03)",color:n.value===l?"white":e(t).theme.textPrimary,border:`1px solid ${n.value===l?e(t).theme.primary:e(t).theme.cardBorder}`,borderRadius:"0.5rem",boxShadow:n.value===l?e(t).theme.elevation.button:e(t).theme.elevation.input,pointerEvents:"auto",zIndex:10})},m(l)+"년 ",45,Fe)),64))]),s("label",{class:"text-xs font-semibold mb-1.5 block mt-2",style:r({color:e(t).theme.textSecondary})}," 보고서 타입 ",4),s("div",Be,[(u(),p(R,null,A(Q,l=>s("button",{key:l.value,onClick:i=>ee(l.value),onMousedown:o[2]||(o[2]=D(()=>{},["stop"])),type:"button",class:"flex-1 px-2.5 py-2 text-xs font-semibold cursor-pointer type-btn",style:r({backgroundColor:d.value===l.value?e(t).theme.primary:e(t).isDark?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.03)",color:d.value===l.value?"white":e(t).theme.textPrimary,border:`1px solid ${d.value===l.value?e(t).theme.primary:e(t).theme.cardBorder}`,borderRadius:"0.5rem",boxShadow:d.value===l.value?e(t).theme.elevation.button:e(t).theme.elevation.input,pointerEvents:"auto",zIndex:10})},m(l.label),45,je)),64))])])):S("",!0),c.value&&n.value&&d.value?(u(),p("div",Ue,[s("label",{class:"text-xs font-semibold mb-1.5 block",style:r({color:e(t).theme.textSecondary})}," 리포트 이름 ",4),he(s("input",{"onUpdate:modelValue":o[3]||(o[3]=l=>k.value=l),type:"text",placeholder:`${n.value} ${d.value} 평가대응 1차`,class:"w-full px-3 py-2 text-xs focus:outline-none input-3d",style:r({backgroundColor:e(t).isDark?"rgba(15, 23, 42, 0.6)":e(t).theme.whiteAlpha[90],border:`1px solid ${e(t).theme.cardBorder}`,borderRadius:"0.5rem",boxShadow:e(t).theme.elevation.input,color:e(t).theme.textPrimary})},null,12,Me),[[fe,k.value]])])):S("",!0),s("button",{onClick:o[4]||(o[4]=D(l=>ce(l),["stop","prevent"])),onMousedown:o[5]||(o[5]=D(()=>{},["stop"])),type:"button",disabled:!c.value||!n.value||!d.value||x.value,class:"mb-0 w-full py-2.5 font-semibold text-xs flex items-center justify-center gap-2 start-btn",style:r({background:c.value&&n.value&&d.value&&!x.value?`linear-gradient(135deg, ${e(t).theme.primary}, ${e(t).theme.primaryLight})`:"rgba(128, 128, 128, 0.3)",color:"white",borderRadius:"0.75rem",boxShadow:c.value&&n.value&&d.value&&!x.value?e(t).theme.elevation.button:"none",cursor:c.value&&n.value&&d.value&&!x.value?"pointer":"not-allowed",opacity:c.value&&n.value&&d.value&&!x.value?1:.5,zIndex:10})},[x.value?S("",!0):(u(),xe(e(ge),{key:0,size:14})),x.value?(u(),p("span",Le,"⏳")):S("",!0),H(" "+m(x.value?"업로드 중...":"분석 시작"),1)],44,Ye)],4),s("div",{class:"flex flex-col flex-1 panel-3d",style:r([{"min-height":"0"},{backgroundColor:e(t).isDark?"rgba(17, 24, 39, 0.95)":e(t).theme.whiteAlpha[95],border:`1px solid ${e(t).theme.cardBorder}`,borderRadius:"1rem",boxShadow:e(t).theme.elevation.card,padding:"1.5rem"}])},[s("div",Ne,[s("div",{class:"w-8 h-8 rounded-lg flex items-center justify-center",style:r({backgroundColor:e(t).theme.primaryAlpha[15],boxShadow:e(t).theme.elevation.icon})},[y(e(Ce),{size:16,style:r({color:e(t).theme.primary})},null,8,["style"])],4),s("h4",{class:"text-xs font-bold tracking-wide",style:r({color:e(t).theme.textPrimary})}," History ",4)]),s("div",Ee,[(u(),p(R,null,A(j,l=>s("div",{key:l,class:"accordion-item",style:r({border:`1px solid ${e(t).theme.cardBorder}`,borderRadius:"0.75rem",backgroundColor:e(t).isDark?"rgba(15, 23, 42, 0.6)":e(t).theme.whiteAlpha[80],boxShadow:e(t).theme.elevation.input,overflow:"hidden"})},[s("button",{onClick:i=>W(l),class:"w-full px-3 py-2 flex items-center justify-between hover:opacity-90 transition-all",style:r({backgroundColor:C.value.includes(l)?e(t).isDark?"rgba(16, 185, 129, 0.1)":"rgba(16, 185, 129, 0.05)":"transparent"})},[s("div",Ve,[s("span",{class:"text-xs font-bold",style:r({color:e(t).theme.textPrimary})},m(l)+"년 ",5),L(l)>0?(u(),p("span",{key:0,class:"text-xs px-1.5 py-0.5 rounded-full",style:r({backgroundColor:e(t).theme.primary+"20",color:e(t).theme.primary})},m(L(l))+"개 ",5)):S("",!0)]),y(e(ke),{size:16,style:r({color:e(t).theme.textSecondary,transform:C.value.includes(l)?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"})},null,8,["style"])],12,He),C.value.includes(l)?(u(),p("div",Ke,[(u(!0),p(R,null,A(T(l),i=>(u(),p("div",{key:i.id,onClick:D(w=>te(i),["stop"]),class:"p-2.5 cursor-pointer report-card",style:r({backgroundColor:f.value?.id===i.id?e(t).theme.primaryAlpha[15]:e(t).isDark?"rgba(15, 23, 42, 0.6)":e(t).theme.whiteAlpha[90],border:`1px solid ${f.value?.id===i.id?e(t).theme.primary:e(t).theme.cardBorder}`,borderRadius:"0.5rem",boxShadow:f.value?.id===i.id?`0 0 0 2px ${e(t).theme.primaryAlpha[20]}`:"none"})},[s("div",Qe,[s("p",{class:"text-xs font-semibold",style:r({color:e(t).theme.textPrimary})},m(i.name),5),s("span",{class:"text-xs px-1.5 py-0.5 rounded font-semibold",style:r({backgroundColor:i.reportType==="CDP"?"rgba(59, 130, 246, 0.2)":"rgba(168, 85, 247, 0.2)",color:i.reportType==="CDP"?"#3b82f6":"#a855f7"})},m(i.reportType),5)]),s("p",{class:"text-xs mt-1",style:r({color:e(t).theme.textSecondary})},m(q(i.savedAt)),5)],12,Xe))),128)),T(l).length===0?(u(),p("div",{key:0,class:"text-center py-4 text-xs",style:r({color:e(t).theme.textSecondary})}," 저장된 보고서가 없습니다 ",4)):S("",!0)])):S("",!0)],4)),64))])],4)]),s("div",{class:"flex-1 flex flex-col panel-3d",style:r({backgroundColor:e(t).isDark?"rgba(17, 24, 39, 0.95)":e(t).theme.whiteAlpha[95],border:`1px solid ${e(t).theme.cardBorder}`,borderRadius:"1rem",boxShadow:e(t).theme.elevation.card,padding:"1.5rem"})},[s("div",Ge,[s("div",qe,[s("div",{class:"w-8 h-8 rounded-lg flex items-center justify-center",style:r({backgroundColor:e(t).theme.primaryAlpha[15],boxShadow:e(t).theme.elevation.icon})},[y(e(we),{size:16,style:r({color:e(t).theme.primary})},null,8,["style"])],4),s("h3",{class:"text-sm font-bold tracking-wide",style:r({color:e(t).theme.textPrimary})}," 참고 문서 ",4)]),s("button",{onClick:oe,class:"px-3 py-1.5 text-xs font-semibold flex items-center gap-1.5 add-btn",style:r({backgroundColor:e(t).theme.primaryAlpha[10],color:e(t).theme.primary,border:`1px solid ${e(t).theme.cardBorder}`,borderRadius:"0.5rem",boxShadow:e(t).theme.elevation.input})},[y(e(Ie),{size:14}),o[6]||(o[6]=H(" 추가 ",-1))],4)]),s("div",We,[(u(!0),p(R,null,A(_.value,(l,i)=>(u(),p("div",{key:i,class:"p-3 flex items-center gap-3 ref-doc-card",style:r({backgroundColor:e(t).isDark?"rgba(15, 23, 42, 0.6)":e(t).theme.whiteAlpha[90],border:`1px solid ${e(t).theme.cardBorder}`,borderRadius:"0.75rem",boxShadow:e(t).theme.elevation.input})},[y(e(O),{size:20,style:r({color:e(t).isDark?"#94a3b8":"#64748b"})},null,8,["style"]),s("div",Ze,[s("p",{class:"text-sm font-semibold truncate",style:r({color:e(t).theme.textPrimary})},m(l.name),5),s("div",et,[s("span",{class:"text-xs px-2 py-0.5 rounded-full",style:r({backgroundColor:e(t).isDark?"rgba(59, 130, 246, 0.2)":"rgba(59, 130, 246, 0.1)",color:e(t).isDark?"#60a5fa":"#2563eb"})},m(l.category),5),s("span",{class:"text-xs",style:r({color:e(t).theme.textSecondary})},m(l.date),5)])]),s("button",{onClick:D(w=>ie(i),["stop"]),type:"button",class:"flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center transition-all hover:scale-110 hover:bg-red-500/20",style:r({backgroundColor:(e(t).isDark,"rgba(239, 68, 68, 0.1)")})},[y(e(E),{size:14,style:{color:"#ef4444"}})],12,tt)],4))),128)),_.value.length===0?(u(),p("div",at,[y(e(O),{size:48,style:r({color:e(t).isDark?"#475569":"#cbd5e1"})},null,8,["style"]),s("p",{class:"mt-4 text-sm",style:r({color:e(t).theme.textSecondary})}," 참고 문서가 없습니다 ",4)])):S("",!0)])],4),s("input",{ref_key:"fileInputRef",ref:U,type:"file",accept:".pdf,.docx,.xlsx",onChange:le,style:{display:"none"}},null,544),s("input",{ref_key:"referenceInputRef",ref:M,type:"file",accept:".pdf,.docx,.xlsx",multiple:"",onChange:se,style:{display:"none"}},null,544)]))}}),lt=be(ot,[["__scopeId","data-v-f16583d2"]]),st={class:"flex gap-4 h-full w-full p-1",style:{"min-height":"0",height:"100%",overflow:"visible"}},pt=X({__name:"ProofListPage",setup(g){const h=_e(),t=c=>{console.log("Files uploaded:",c)},I=(c,b,n)=>{console.log("Starting analysis:",{year:c,reportType:b,reportId:n}),h.push({name:"proof-analysis",params:{reportId:n}})};return(c,b)=>(u(),p("div",st,[y(lt,{onFilesUploaded:t,onStartAnalysis:I})]))}});export{pt as default};
